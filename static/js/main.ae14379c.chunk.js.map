{"version":3,"sources":["api/users.js","api/categories.js","api/products.js","App.jsx","index.jsx"],"names":["id","name","sex","title","icon","ownerId","categoryId","SORT_FIELD_ID","SORT_FIELD_PRODUCT","SORT_FIELD_CATEGORY","SORT_FIELD_USER","FilterBar","_ref","users","selectedUser","filterByUser","filterByQuery","categories","selectedCategories","filterByCategories","sortBy","setSortOrder","resetQueryInputValue","document","getElementById","value","_jsx","className","children","_jsxs","href","cn","onClick","map","user","type","placeholder","onChange","event","target","length","_ref2","includes","concat","newArr","splice","indexOf","ProductInfo","_ref3","product","category","Table","_ref4","productsList","sortField","sortOrder","changeSortOrder","sortFieldToChange","prepareProducts","query","products","productsFromServer","categoriesFromServer","find","_ref5","userId","usersFromServer","_ref6","filter","_ref7","normalizedQuery","toLowerCase","trim","_ref8","_ref9","sort","product1","product2","localeCompare","reverse","App","setSelectedUser","useState","setQuery","setSelectedCategories","setsortOrder","setSortField","visibleProducts","ReactDOM","render"],"mappings":"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","file":"static/js/main.ae14379c.chunk.js","sourcesContent":["export default [\n  { id: 1, name: 'Roma', sex: 'm' },\n  { id: 2, name: 'Anna', sex: 'f' },\n  { id: 3, name: 'Max', sex: 'm' },\n  { id: 4, name: 'John', sex: 'm' },\n];\n","export default [\n  {\n    id: 1,\n    title: 'Grocery',\n    icon: 'ðŸž',\n    ownerId: 2,\n  },\n  {\n    id: 2,\n    title: 'Drinks',\n    icon: 'ðŸº',\n    ownerId: 1,\n  },\n  {\n    id: 3,\n    title: 'Fruits',\n    icon: 'ðŸ',\n    ownerId: 2,\n  },\n  {\n    id: 4,\n    title: 'Electronics',\n    icon: 'ðŸ’»',\n    ownerId: 1,\n  },\n  {\n    id: 5,\n    title: 'Clothes',\n    icon: 'ðŸ‘š',\n    ownerId: 3,\n  },\n];\n","export default [\n  {\n    id: 1,\n    name: 'Milk',\n    categoryId: 2,\n  },\n  {\n    id: 2,\n    name: 'Bread',\n    categoryId: 1,\n  },\n  {\n    id: 3,\n    name: 'Eggs',\n    categoryId: 1,\n  },\n  {\n    id: 4,\n    name: 'Jacket',\n    categoryId: 5,\n  },\n  {\n    id: 5,\n    name: 'Sugar',\n    categoryId: 1,\n  },\n  {\n    id: 6,\n    name: 'Banana',\n    categoryId: 3,\n  },\n  {\n    id: 7,\n    name: 'Beer',\n    categoryId: 2,\n  },\n  {\n    id: 8,\n    name: 'Socks',\n    categoryId: 5,\n  },\n  {\n    id: 9,\n    name: 'Apples',\n    categoryId: 3,\n  },\n];\n","/* eslint-disable implicit-arrow-linebreak */\n/* eslint-disable jsx-a11y/accessible-emoji */\nimport React, { useState } from 'react';\nimport './App.scss';\nimport cn from 'classnames';\n\nimport usersFromServer from './api/users';\nimport categoriesFromServer from './api/categories';\nimport productsFromServer from './api/products';\n\nconst SORT_ORDER_ASC = 0;\nconst SORT_ORDER_DESC = 1;\nconst SORT_FIELD_ID = 'id';\nconst SORT_FIELD_PRODUCT = 'product';\nconst SORT_FIELD_CATEGORY = 'category';\nconst SORT_FIELD_USER = 'user';\n\nconst FilterBar = (\n  { users,\n    selectedUser,\n    filterByUser,\n    filterByQuery,\n    categories,\n    selectedCategories,\n    filterByCategories,\n    sortBy,\n    setSortOrder },\n) => {\n  function resetQueryInputValue() {\n    document.getElementById('queryInput').value = '';\n  }\n\n  function resetFilters() {\n    filterByQuery(null);\n    resetQueryInputValue();\n    filterByUser(null);\n    filterByCategories([]);\n    sortBy(null);\n    setSortOrder(null);\n  }\n\n  return (\n    <div className=\"block\">\n      <nav className=\"panel\">\n        <p className=\"panel-heading\">Filters</p>\n\n        <p className=\"panel-tabs has-text-weight-bold\">\n          <a\n            data-cy=\"FilterAllUsers\"\n            href=\"#/\"\n            className={cn({\n              'is-active': !selectedUser,\n            })}\n            onClick={() => filterByUser(null)}\n          >\n            All\n          </a>\n\n          {users.map(user => (\n            <a\n              data-cy=\"FilterUser\"\n              href=\"#/\"\n              className={cn({\n                'is-active': selectedUser\n                  ? selectedUser.name === user.name\n                  : false,\n              })}\n              key={user.id}\n              onClick={() => filterByUser(user)}\n            >\n              {user.name}\n            </a>\n          ))}\n        </p>\n\n        <div className=\"panel-block\">\n          <p className=\"control has-icons-left has-icons-right\">\n            <input\n              id=\"queryInput\"\n              data-cy=\"SearchField\"\n              type=\"text\"\n              className=\"input\"\n              placeholder=\"Search\"\n              onChange={event => filterByQuery(event.target.value)}\n            />\n\n            <span className=\"icon is-left\">\n              <i className=\"fas fa-search\" aria-hidden=\"true\" />\n            </span>\n\n            <span className=\"icon is-right\">\n              {/* eslint-disable-next-line jsx-a11y/control-has-associated-label */}\n              {(document.getElementById('queryInput')\n                ? document.getElementById('queryInput').value.length !== 0\n                : false)\n                && (\n                  <button\n                    data-cy=\"ClearButton\"\n                    type=\"button\"\n                    className=\"delete\"\n                    onClick={() => {\n                      resetQueryInputValue();\n                      filterByQuery(null);\n                    }}\n                  />\n                )}\n            </span>\n          </p>\n        </div>\n\n        <div className=\"panel-block is-flex-wrap-wrap\">\n          <a\n            href=\"#/\"\n            data-cy=\"AllCategories\"\n            className={cn('button', 'is-success', 'mr-6', {\n              'is-outlined': selectedCategories.length !== 0,\n            })}\n            onClick={() => filterByCategories([])}\n          >\n            All\n          </a>\n\n          {categories.map(({ title, id }) => (\n            <a\n              data-cy=\"Category\"\n              className={cn('button', 'mr-2', 'my-1', {\n                'is-info': selectedCategories.includes(title),\n              })}\n              href=\"#/\"\n              key={id}\n              onClick={() => {\n                if (!selectedCategories.includes(title)) {\n                  return filterByCategories(selectedCategories.concat([title]));\n                }\n\n                const newArr = [...selectedCategories];\n\n                newArr.splice(newArr.indexOf(title), 1);\n\n                return filterByCategories(newArr);\n              }}\n            >\n              {title}\n            </a>\n          ))}\n        </div>\n\n        <div className=\"panel-block\">\n          <a\n            data-cy=\"ResetAllButton\"\n            href=\"#/\"\n            className=\"button is-link is-outlined is-fullwidth\"\n            onClick={() => resetFilters()}\n          >\n            Reset all filters\n          </a>\n        </div>\n      </nav>\n    </div>\n  );\n};\n\nconst ProductInfo = ({ product }) => {\n  const {\n    id,\n    name,\n    category,\n    user,\n  } = product;\n\n  return (\n    <tr data-cy=\"Product\">\n      <td className=\"has-text-weight-bold\" data-cy=\"ProductId\">\n        {id}\n      </td>\n\n      <td data-cy=\"ProductName\">{name}</td>\n      <td data-cy=\"ProductCategory\">{`${category.icon} - ${category.title}`}</td>\n\n      <td\n        data-cy=\"ProductUser\"\n        className={user.sex === 'm' ? 'has-text-link' : 'has-text-danger'}\n      >\n        {user.name}\n      </td>\n    </tr>\n  );\n};\n\nconst Table = ({\n  productsList,\n  sortBy,\n  sortField,\n  setSortOrder,\n  sortOrder,\n}) => {\n  function changeSortOrder(sortFieldToChange) {\n    if (sortFieldToChange !== sortField) {\n      sortBy(sortFieldToChange);\n      setSortOrder(SORT_ORDER_ASC);\n    } else if (sortOrder === SORT_ORDER_DESC) {\n      setSortOrder(null);\n      sortBy(null);\n    } else {\n      setSortOrder(sortOrder + 1);\n    }\n  }\n\n  return (\n    <table\n      data-cy=\"ProductTable\"\n      className=\"table is-striped is-narrow is-fullwidth\"\n    >\n      <thead>\n        <tr>\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              ID\n\n              <a\n                href=\"#/\"\n                onClick={() => changeSortOrder(SORT_FIELD_ID)}\n              >\n                <span className=\"icon\">\n                  <i\n                    data-cy=\"SortIcon\"\n                    className={cn('fas', {\n                      'fa-sort-up': sortField === SORT_FIELD_ID\n                        && sortOrder === SORT_ORDER_ASC,\n                      'fa-sort-down': sortField === SORT_FIELD_ID\n                        && sortOrder === SORT_ORDER_DESC,\n                      'fa-sort': sortField !== SORT_FIELD_ID,\n                    })}\n                  />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Product\n\n              <a\n                href=\"#/\"\n                onClick={() => changeSortOrder(SORT_FIELD_PRODUCT)}\n              >\n                <span className=\"icon\">\n                  <i\n                    data-cy=\"SortIcon\"\n                    className={cn('fas', {\n                      'fa-sort-up': sortField === SORT_FIELD_PRODUCT\n                        && sortOrder === SORT_ORDER_ASC,\n                      'fa-sort-down': sortField === SORT_FIELD_PRODUCT\n                        && sortOrder === SORT_ORDER_DESC,\n                      'fa-sort': sortField !== SORT_FIELD_PRODUCT,\n                    })}\n                  />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              Category\n\n              <a\n                href=\"#/\"\n                onClick={() => changeSortOrder(SORT_FIELD_CATEGORY)}\n              >\n                <span className=\"icon\">\n                  <i\n                    data-cy=\"SortIcon\"\n                    className={cn('fas', {\n                      'fa-sort-up': sortField === SORT_FIELD_CATEGORY\n                        && sortOrder === SORT_ORDER_ASC,\n                      'fa-sort-down': sortField === SORT_FIELD_CATEGORY\n                        && sortOrder === SORT_ORDER_DESC,\n                      'fa-sort': sortField !== SORT_FIELD_CATEGORY,\n                    })}\n                  />\n                </span>\n              </a>\n            </span>\n          </th>\n\n          <th>\n            <span className=\"is-flex is-flex-wrap-nowrap\">\n              User\n\n              <a\n                href=\"#/\"\n                onClick={() => changeSortOrder(SORT_FIELD_USER)}\n              >\n                <span className=\"icon\">\n                  <i\n                    data-cy=\"SortIcon\"\n                    className={cn('fas', {\n                      'fa-sort-up': sortField === SORT_FIELD_USER\n                        && sortOrder === SORT_ORDER_ASC,\n                      'fa-sort-down': sortField === SORT_FIELD_USER\n                        && sortOrder === SORT_ORDER_DESC,\n                      'fa-sort': sortField !== SORT_FIELD_USER,\n                    })}\n                  />\n                </span>\n              </a>\n            </span>\n          </th>\n        </tr>\n      </thead>\n\n      <tbody>\n        {productsList\n          .map(product => <ProductInfo product={product} key={product.id} />)}\n      </tbody>\n    </table>\n  );\n};\n\nfunction findCategoryById(categoryId) {\n  return categoriesFromServer.find(({ id }) => id === categoryId);\n}\n\nfunction findUserById(userId) {\n  return usersFromServer.find(({ id }) => id === userId);\n}\n\nfunction prepareProducts(selectedUser,\n  query,\n  selectedCategories,\n  sortField,\n  sortOrder) {\n  let products = productsFromServer.map((product) => {\n    const category = findCategoryById(product.categoryId); // find by product.categoryId\n    const user = findUserById(category.ownerId); // find by category.ownerId\n\n    return {\n      ...product,\n      category,\n      user,\n    };\n  });\n\n  if (selectedUser) {\n    products = products.filter(({ user }) => user.name === selectedUser.name);\n  }\n\n  if (query) {\n    const normalizedQuery = query.toLowerCase().trim();\n\n    products = products\n      .filter(({ name }) => name.toLowerCase().includes(normalizedQuery));\n  }\n\n  if (selectedCategories.length !== 0) {\n    products = products.filter(({ category }) =>\n      selectedCategories.includes(category.title));\n  }\n\n  if (sortField !== null) {\n    products.sort((product1, product2) => {\n      switch (sortField) {\n        case SORT_FIELD_CATEGORY:\n          return product1.category.title\n            .localeCompare(product2.category.title);\n        case SORT_FIELD_ID:\n          return product1.id - product2.id;\n        case SORT_FIELD_PRODUCT:\n          return product1.name.localeCompare(product2.name);\n        case SORT_FIELD_USER:\n          return product1.user.name.localeCompare(product2.user.name);\n        default: return -1;\n      }\n    });\n\n    if (sortOrder === SORT_ORDER_DESC) {\n      products.reverse();\n    }\n  }\n\n  return products.length === 0 ? null : products;\n}\n\nexport const App = () => {\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [query, setQuery] = useState(null);\n  const [selectedCategories, setSelectedCategories] = useState([]);\n  const [sortOrder, setsortOrder] = useState(null);\n  const [sortField, setSortField] = useState(null);\n\n  const visibleProducts = prepareProducts(selectedUser,\n    query,\n    selectedCategories,\n    sortField,\n    sortOrder);\n\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Product Categories</h1>\n\n        <FilterBar\n          users={usersFromServer}\n          filterByUser={setSelectedUser}\n          selectedUser={selectedUser}\n          filterByQuery={setQuery}\n          categories={categoriesFromServer}\n          selectedCategories={selectedCategories}\n          filterByCategories={setSelectedCategories}\n          sortBy={setSortField}\n          setSortOrder={setsortOrder}\n        />\n\n        {visibleProducts\n          ? (\n            <Table\n              productsList={visibleProducts}\n              setSortOrder={setsortOrder}\n              sortField={sortField}\n              sortBy={setSortField}\n              sortOrder={sortOrder}\n            />\n          )\n          : (\n            <div className=\"box table-container\">\n              <p data-cy=\"NoMatchingMessage\">\n                No products matching selected criteria\n              </p>\n\n            </div>\n          )\n        }\n\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}